[ 2018-03-16T11:42:10+08:00 ] 127.0.0.1 /csj/trunk/php/project/member/index.php/v1.1/bar/barIndex
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000000s ]
INFO: [ app_init ] --END-- [ RunTime:0.003000s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `api_order` [ RunTime:0.0470s ]
SQL: SHOW COLUMNS FROM `api_bar` [ RunTime:0.0470s ]
SQL: SHOW COLUMNS FROM `api_bar_member` [ RunTime:0.0460s ]
SQL: SELECT round(2 * 6378.137* ASIN(SQRT(POW(SIN(PI()*(103.9682410-c.lng)/360),2)+COS(PI()*103.9682410/180)* COS(30.6323000 * PI()/180)*POW(SIN(PI()*(30.6323000-c.lat)/360),2))),1) as juli,a.*,b.nickname,b.avatar,b.sex,b.age,c.title,c.begin_time,d.average_star,(select count(*) from api_bar_member where bar_id=a.id) as count,(a.woman_number + a.man_number) as total_number,(a.woman_number + a.man_number)-(select count(*) from api_bar_member where bar_id=a.id) as rest_number FROM api_bar a left join api_member b ON b.id=a.member_id left join api_merchant c ON c.id=a.merchant_id left join api_comment_barstar d ON d.member_id = a.member_id  WHERE a.bar_type = 2 AND a.bar_status = 1 ORDER BY juli asc LIMIT 0,20   [ RunTime:0.0460s ]

[ 2018-03-16T11:43:19+08:00 ] 127.0.0.1 /csj/trunk/php/project/member/index.php/v1.1/bar/barIndex
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000000s ]
INFO: [ app_init ] --END-- [ RunTime:0.001000s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `api_order` [ RunTime:0.0420s ]
SQL: SHOW COLUMNS FROM `api_bar` [ RunTime:0.0420s ]
SQL: SHOW COLUMNS FROM `api_bar_member` [ RunTime:0.0410s ]
SQL: SELECT round(2 * 6378.137* ASIN(SQRT(POW(SIN(PI()*(103.9682410-c.lng)/360),2)+COS(PI()*c.lng/180)* COS(c.lat * PI()/180)*POW(SIN(PI()*(30.6323000-c.lat)/360),2))),1) as juli,a.*,b.nickname,b.avatar,b.sex,b.age,c.title,c.begin_time,d.average_star,(select count(*) from api_bar_member where bar_id=a.id) as count,(a.woman_number + a.man_number) as total_number,(a.woman_number + a.man_number)-(select count(*) from api_bar_member where bar_id=a.id) as rest_number FROM api_bar a left join api_member b ON b.id=a.member_id left join api_merchant c ON c.id=a.merchant_id left join api_comment_barstar d ON d.member_id = a.member_id  WHERE a.bar_type = 2 AND a.bar_status = 1 ORDER BY juli asc LIMIT 0,20   [ RunTime:0.0450s ]

[ 2018-03-16T11:43:33+08:00 ] 127.0.0.1 /csj/trunk/php/project/member/index.php/v1.1/bar/barIndex
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000000s ]
INFO: [ app_init ] --END-- [ RunTime:0.000000s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `api_order` [ RunTime:0.0380s ]
SQL: SHOW COLUMNS FROM `api_bar` [ RunTime:0.0390s ]
SQL: SHOW COLUMNS FROM `api_bar_member` [ RunTime:0.0390s ]
SQL: SELECT round(2 * 6378.137* ASIN(SQRT(POW(SIN(PI()*(103.9682410-c.lng)/360),2)+COS(PI()*30.6323000/180)* COS(c.lat * PI()/180)*POW(SIN(PI()*(30.6323000-c.lat)/360),2))),1) as juli,a.*,b.nickname,b.avatar,b.sex,b.age,c.title,c.begin_time,d.average_star,(select count(*) from api_bar_member where bar_id=a.id) as count,(a.woman_number + a.man_number) as total_number,(a.woman_number + a.man_number)-(select count(*) from api_bar_member where bar_id=a.id) as rest_number FROM api_bar a left join api_member b ON b.id=a.member_id left join api_merchant c ON c.id=a.merchant_id left join api_comment_barstar d ON d.member_id = a.member_id  WHERE a.bar_type = 2 AND a.bar_status = 1 ORDER BY juli asc LIMIT 0,20   [ RunTime:0.0410s ]

[ 2018-03-16T11:44:28+08:00 ] 127.0.0.1 /csj/trunk/php/project/member/index.php/v1.1/bar/barIndex
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000000s ]
INFO: [ app_init ] --END-- [ RunTime:0.000000s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `api_order` [ RunTime:0.0420s ]
SQL: SHOW COLUMNS FROM `api_bar` [ RunTime:0.0400s ]
SQL: SHOW COLUMNS FROM `api_bar_member` [ RunTime:0.0390s ]
SQL: SELECT round(2 * 6378.137* ASIN(SQRT(POW(SIN(PI()*(104.1057-c.lng)/360),2)+COS(PI()*30.67708/180)* COS(c.lat * PI()/180)*POW(SIN(PI()*(30.67708-c.lat)/360),2))),1) as juli,a.*,b.nickname,b.avatar,b.sex,b.age,c.title,c.begin_time,d.average_star,(select count(*) from api_bar_member where bar_id=a.id) as count,(a.woman_number + a.man_number) as total_number,(a.woman_number + a.man_number)-(select count(*) from api_bar_member where bar_id=a.id) as rest_number FROM api_bar a left join api_member b ON b.id=a.member_id left join api_merchant c ON c.id=a.merchant_id left join api_comment_barstar d ON d.member_id = a.member_id  WHERE a.bar_type = 2 AND a.bar_status = 1 ORDER BY juli asc LIMIT 0,20   [ RunTime:0.0410s ]

[ 2018-03-16T11:45:24+08:00 ] 127.0.0.1 /csj/trunk/php/project/member/index.php/v1.1/bar/barIndex
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000000s ]
INFO: [ app_init ] --END-- [ RunTime:0.000000s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `api_order` [ RunTime:0.0380s ]
SQL: SHOW COLUMNS FROM `api_bar` [ RunTime:0.0380s ]
SQL: SHOW COLUMNS FROM `api_bar_member` [ RunTime:0.0390s ]
SQL: SELECT round(2 * 6378.137* ASIN(SQRT(POW(SIN(PI()*(104.1057-c.lng)/360),2)+COS(PI()*30.67708/180)* COS(104.1057* PI()/180)*POW(SIN(PI()*(30.67708-c.lat)/360),2))),1) as juli,a.*,b.nickname,b.avatar,b.sex,b.age,c.title,c.begin_time,d.average_star,(select count(*) from api_bar_member where bar_id=a.id) as count,(a.woman_number + a.man_number) as total_number,(a.woman_number + a.man_number)-(select count(*) from api_bar_member where bar_id=a.id) as rest_number FROM api_bar a left join api_member b ON b.id=a.member_id left join api_merchant c ON c.id=a.merchant_id left join api_comment_barstar d ON d.member_id = a.member_id  WHERE a.bar_type = 2 AND a.bar_status = 1 ORDER BY juli asc LIMIT 0,20   [ RunTime:0.0400s ]

[ 2018-03-16T11:45:27+08:00 ] 127.0.0.1 /csj/trunk/php/project/member/index.php/v1.1/bar/barIndex
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000000s ]
INFO: [ app_init ] --END-- [ RunTime:0.000000s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `api_order` [ RunTime:0.0420s ]
SQL: SHOW COLUMNS FROM `api_bar` [ RunTime:0.0430s ]
SQL: SHOW COLUMNS FROM `api_bar_member` [ RunTime:0.0430s ]
SQL: SELECT round(2 * 6378.137* ASIN(SQRT(POW(SIN(PI()*(104.1057-c.lng)/360),2)+COS(PI()*30.67708/180)* COS(104.1057* PI()/180)*POW(SIN(PI()*(30.67708-c.lat)/360),2))),1) as juli,a.*,b.nickname,b.avatar,b.sex,b.age,c.title,c.begin_time,d.average_star,(select count(*) from api_bar_member where bar_id=a.id) as count,(a.woman_number + a.man_number) as total_number,(a.woman_number + a.man_number)-(select count(*) from api_bar_member where bar_id=a.id) as rest_number FROM api_bar a left join api_member b ON b.id=a.member_id left join api_merchant c ON c.id=a.merchant_id left join api_comment_barstar d ON d.member_id = a.member_id  WHERE a.bar_type = 2 AND a.bar_status = 1 ORDER BY juli asc LIMIT 0,20   [ RunTime:0.0440s ]

[ 2018-03-16T11:47:04+08:00 ] 127.0.0.1 /csj/trunk/php/project/member/index.php/v1.1/bar/barIndex
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000000s ]
INFO: [ app_init ] --END-- [ RunTime:0.001000s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `api_order` [ RunTime:0.0400s ]
SQL: SHOW COLUMNS FROM `api_bar` [ RunTime:0.0380s ]
SQL: SHOW COLUMNS FROM `api_bar_member` [ RunTime:0.0390s ]
SQL: SELECT round(2 * 6378.137* ASIN(SQRT(POW(SIN(PI()*(104.1057-c.lng)/360),2)+COS(PI()*104.1057/180)* COS(c.lng * PI()/180)*POW(SIN(PI()*(30.67708-c.lat)/360),2))),1) as juli,a.*,b.nickname,b.avatar,b.sex,b.age,c.title,c.begin_time,d.average_star,(select count(*) from api_bar_member where bar_id=a.id) as count,(a.woman_number + a.man_number) as total_number,(a.woman_number + a.man_number)-(select count(*) from api_bar_member where bar_id=a.id) as rest_number FROM api_bar a left join api_member b ON b.id=a.member_id left join api_merchant c ON c.id=a.merchant_id left join api_comment_barstar d ON d.member_id = a.member_id  WHERE a.bar_type = 2 AND a.bar_status = 1 ORDER BY juli asc LIMIT 0,20   [ RunTime:0.0390s ]

[ 2018-03-16T11:48:22+08:00 ] 127.0.0.1 /csj/trunk/php/project/member/index.php/v1.1/bar/barIndex
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000000s ]
INFO: [ app_init ] --END-- [ RunTime:0.000000s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `api_order` [ RunTime:0.0420s ]
SQL: SHOW COLUMNS FROM `api_bar` [ RunTime:0.0400s ]
SQL: SHOW COLUMNS FROM `api_bar_member` [ RunTime:0.0390s ]
SQL: SELECT round(2 * 6370.996* ASIN(SQRT(POW(SIN(PI()*(104.1057-c.lng)/360),2)+COS(PI()*104.1057/180)* COS(c.lng * PI()/180)*POW(SIN(PI()*(30.67708-c.lat)/360),2))),1) as juli,a.*,b.nickname,b.avatar,b.sex,b.age,c.title,c.begin_time,d.average_star,(select count(*) from api_bar_member where bar_id=a.id) as count,(a.woman_number + a.man_number) as total_number,(a.woman_number + a.man_number)-(select count(*) from api_bar_member where bar_id=a.id) as rest_number FROM api_bar a left join api_member b ON b.id=a.member_id left join api_merchant c ON c.id=a.merchant_id left join api_comment_barstar d ON d.member_id = a.member_id  WHERE a.bar_type = 2 AND a.bar_status = 1 ORDER BY juli asc LIMIT 0,20   [ RunTime:0.0430s ]

[ 2018-03-16T11:50:54+08:00 ] 127.0.0.1 /csj/trunk/php/project/member/index.php/v1.1/bar/barIndex
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000000s ]
INFO: [ app_init ] --END-- [ RunTime:0.000000s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `api_order` [ RunTime:0.0460s ]
SQL: SHOW COLUMNS FROM `api_bar` [ RunTime:0.0440s ]
SQL: SHOW COLUMNS FROM `api_bar_member` [ RunTime:0.0430s ]
SQL: SELECT round(2 * 6370.996* ASIN(SQRT(POW(SIN(PI()*(104.1057-c.lng)/360),2)+COS(PI()*30.67708/180)* COS(c.lat * PI()/180)*POW(SIN(PI()*(104.1057-c.lng)/360),2))),1) as juli,a.*,b.nickname,b.avatar,b.sex,b.age,c.title,c.begin_time,d.average_star,(select count(*) from api_bar_member where bar_id=a.id) as count,(a.woman_number + a.man_number) as total_number,(a.woman_number + a.man_number)-(select count(*) from api_bar_member where bar_id=a.id) as rest_number FROM api_bar a left join api_member b ON b.id=a.member_id left join api_merchant c ON c.id=a.merchant_id left join api_comment_barstar d ON d.member_id = a.member_id  WHERE a.bar_type = 2 AND a.bar_status = 1 ORDER BY juli asc LIMIT 0,20   [ RunTime:0.0460s ]

[ 2018-03-16T11:55:35+08:00 ] 127.0.0.1 /csj/trunk/php/project/member/index.php/v1.1/bar/barIndex
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000000s ]
INFO: [ app_init ] --END-- [ RunTime:0.000000s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `api_order` [ RunTime:0.0430s ]
SQL: SHOW COLUMNS FROM `api_bar` [ RunTime:0.0430s ]
SQL: SHOW COLUMNS FROM `api_bar_member` [ RunTime:0.0420s ]
ERR: 1054:Unknown column 'c.$lat' in 'field list'
 [ SQL语句 ] : SELECT round(2 * 6370.996* ASIN(SQRT(POW((SIN(PI()*(104.1057-c.lng)/180)/2),2)+COS(PI()*104.1057/180)* COS(c.lng * PI()/180)*POW((SIN(PI()*(30.67708-c.$lat)/180)/2),2))),1) as juli,a.*,b.nickname,b.avatar,b.sex,b.age,c.title,c.begin_time,d.average_star,(select count(*) from api_bar_member where bar_id=a.id) as count,(a.woman_number + a.man_number) as total_number,(a.woman_number + a.man_number)-(select count(*) from api_bar_member where bar_id=a.id) as rest_number FROM api_bar a left join api_member b ON b.id=a.member_id left join api_merchant c ON c.id=a.merchant_id left join api_comment_barstar d ON d.member_id = a.member_id  WHERE a.bar_type = 2 AND a.bar_status = 1 ORDER BY juli asc LIMIT 0,20  
ERR: 1054:Unknown column 'c.$lat' in 'field list'
 [ SQL语句 ] : SELECT round(2 * 6370.996* ASIN(SQRT(POW((SIN(PI()*(104.1057-c.lng)/180)/2),2)+COS(PI()*104.1057/180)* COS(c.lng * PI()/180)*POW((SIN(PI()*(30.67708-c.$lat)/180)/2),2))),1) as juli,a.*,b.nickname,b.avatar,b.sex,b.age,c.title,c.begin_time,d.average_star,(select count(*) from api_bar_member where bar_id=a.id) as count,(a.woman_number + a.man_number) as total_number,(a.woman_number + a.man_number)-(select count(*) from api_bar_member where bar_id=a.id) as rest_number FROM api_bar a left join api_member b ON b.id=a.member_id left join api_merchant c ON c.id=a.merchant_id left join api_comment_barstar d ON d.member_id = a.member_id  WHERE a.bar_type = 2 AND a.bar_status = 1 ORDER BY juli asc LIMIT 0,20  

[ 2018-03-16T11:55:51+08:00 ] 127.0.0.1 /csj/trunk/php/project/member/index.php/v1.1/bar/barIndex
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000000s ]
INFO: [ app_init ] --END-- [ RunTime:0.000000s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `api_order` [ RunTime:0.0440s ]
SQL: SHOW COLUMNS FROM `api_bar` [ RunTime:0.0450s ]
SQL: SHOW COLUMNS FROM `api_bar_member` [ RunTime:0.0440s ]
SQL: SELECT round(2 * 6370.996* ASIN(SQRT(POW((SIN(PI()*(104.1057-c.lng)/180)/2),2)+COS(PI()*104.1057/180)* COS(c.lng * PI()/180)*POW((SIN(PI()*(30.67708-c.lat)/180)/2),2))),1) as juli,a.*,b.nickname,b.avatar,b.sex,b.age,c.title,c.begin_time,d.average_star,(select count(*) from api_bar_member where bar_id=a.id) as count,(a.woman_number + a.man_number) as total_number,(a.woman_number + a.man_number)-(select count(*) from api_bar_member where bar_id=a.id) as rest_number FROM api_bar a left join api_member b ON b.id=a.member_id left join api_merchant c ON c.id=a.merchant_id left join api_comment_barstar d ON d.member_id = a.member_id  WHERE a.bar_type = 2 AND a.bar_status = 1 ORDER BY juli asc LIMIT 0,20   [ RunTime:0.0470s ]

[ 2018-03-16T11:57:10+08:00 ] 127.0.0.1 /csj/trunk/php/project/member/index.php/v1.1/bar/barIndex
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000000s ]
INFO: [ app_init ] --END-- [ RunTime:0.001000s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `api_order` [ RunTime:0.0430s ]
SQL: SHOW COLUMNS FROM `api_bar` [ RunTime:0.0430s ]
SQL: SHOW COLUMNS FROM `api_bar_member` [ RunTime:0.0430s ]
SQL: SELECT round(2 * 6378.137* ASIN(SQRT(POW(SIN(PI()*(104.1057-c.lng)/360),2)+COS(PI()*30.67708/180)* COS(c.lat * PI()/180)*POW(SIN(PI()*(30.67708-c.lat)/360),2))),1) as juli,a.*,b.nickname,b.avatar,b.sex,b.age,c.title,c.begin_time,d.average_star,(select count(*) from api_bar_member where bar_id=a.id) as count,(a.woman_number + a.man_number) as total_number,(a.woman_number + a.man_number)-(select count(*) from api_bar_member where bar_id=a.id) as rest_number FROM api_bar a left join api_member b ON b.id=a.member_id left join api_merchant c ON c.id=a.merchant_id left join api_comment_barstar d ON d.member_id = a.member_id  WHERE a.bar_type = 2 AND a.bar_status = 1 ORDER BY juli asc LIMIT 0,20   [ RunTime:0.0430s ]

[ 2018-03-16T11:57:38+08:00 ] 127.0.0.1 /csj/trunk/php/project/member/index.php/v1.1/bar/barIndex
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000000s ]
INFO: [ app_init ] --END-- [ RunTime:0.000000s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `api_order` [ RunTime:0.0430s ]
SQL: SHOW COLUMNS FROM `api_bar` [ RunTime:0.0420s ]
SQL: SHOW COLUMNS FROM `api_bar_member` [ RunTime:0.0420s ]
SQL: SELECT round(2 * 6378.137* ASIN(SQRT(POW(SIN(PI()*(104.1057-c.lng)/360),2)+COS(PI()*104.1057/180)* COS(c.lng * PI()/180)*POW(SIN(PI()*(30.67708-c.lat)/360),2))),1) as juli,a.*,b.nickname,b.avatar,b.sex,b.age,c.title,c.begin_time,d.average_star,(select count(*) from api_bar_member where bar_id=a.id) as count,(a.woman_number + a.man_number) as total_number,(a.woman_number + a.man_number)-(select count(*) from api_bar_member where bar_id=a.id) as rest_number FROM api_bar a left join api_member b ON b.id=a.member_id left join api_merchant c ON c.id=a.merchant_id left join api_comment_barstar d ON d.member_id = a.member_id  WHERE a.bar_type = 2 AND a.bar_status = 1 ORDER BY juli asc LIMIT 0,20   [ RunTime:0.0430s ]

[ 2018-03-16T13:39:08+08:00 ] 127.0.0.1 /csj/trunk/php/project/member/index.php/v1.1/bar/barIndex
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000000s ]
INFO: [ app_init ] --END-- [ RunTime:0.001000s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `api_order` [ RunTime:0.0380s ]
SQL: SHOW COLUMNS FROM `api_bar` [ RunTime:0.0380s ]
SQL: SHOW COLUMNS FROM `api_bar_member` [ RunTime:0.0360s ]
SQL: SELECT round(2 * 6378.137* ASIN(SQRT(POW(SIN(PI()*(30.67708-c.lat)/360),2)+COS(PI()*30.67708/180)* COS(c.lat * PI()/180)*POW(SIN(PI()*(104.1057-c.lng)/360),2))),1) as juli,a.*,b.nickname,b.avatar,b.sex,b.age,c.title,c.begin_time,d.average_star,(select count(*) from api_bar_member where bar_id=a.id) as count,(a.woman_number + a.man_number) as total_number,(a.woman_number + a.man_number)-(select count(*) from api_bar_member where bar_id=a.id) as rest_number FROM api_bar a left join api_member b ON b.id=a.member_id left join api_merchant c ON c.id=a.merchant_id left join api_comment_barstar d ON d.member_id = a.member_id  WHERE a.bar_type = 2 AND a.bar_status = 1 ORDER BY juli asc LIMIT 0,20   [ RunTime:0.0380s ]

